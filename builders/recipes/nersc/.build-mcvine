# env setup for building mcvine

module load gcc/5.2.0
module load python/2.7.9
module load mpi4py/1.3.1
module load h5py/2.5.0
module load cmake

# the following does not exactly work because they are
# specific for an intel compiler.
# so we have to use hard-coded path in the cmake cmd
# module load boost/1.54
# module load gsl/1.16
# gsl
GSL_DIR=/usr/common/usg/gsl/1.16/gnu
export PATH=$GSL_DIR/bin:$PATH
export LD_LIBRARY_PATH=$GSL_DIR/lib:$LD_LIBRARY_PATH
# boost
export BOOST_ROOT=/usr/common/usg/boost/1.54.0-20160127/gnu
export LD_LIBRARY_PATH=$BOOST_ROOT/lib:$LD_LIBRARY_PATH


export PYTHONPATH=/global/homes/l/linjiao/dv/mcvine/deps/lib/python2.7/site-packages/:$PYTHONPATH

DANSE_DIR=$HOME/dv/danse/export
export PYTHONPATH=$DANSE_DIR/lib64/python2.7/site-packages:$PYTHONPATH
export PATH=$DANSE_DIR/bin:$PATH
export LD_LIBRARY_PATH=$DANSE_DIR/lib64:$LD_LIBRARY_PATH


alias mm="cmake ../mcvine && make -j 30 && make install -j 30"
alias mt='env CTEST_OUTPUT_ON_FAILURE=1 make test ARGS="-j30"'

export MCVINE_MPI_LAUNCHER=slurm

